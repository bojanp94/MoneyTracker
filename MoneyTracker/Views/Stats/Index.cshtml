@using MoneyTracker.Models
@model StatsViewModel

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>.hidden{display:none;}</style>

<div class="grid">
    <div class="row cells2">
        <div class="cell">
            <div class="grid">
                <div class="row cells2">
                    <div class="cell">Daily Average Spending</div>
                    <div class="cell">@string.Format("{0:0.00}", Model.DailyAverageSpending)</div>
                </div>

                <div class="row cells2">
                    <div class="cell">Weekly Average Spending</div>
                    <div class="cell">@string.Format("{0:0.00}", Model.WeeklyAverageSpending)</div>
                </div>

                <div class="row cells2">
                    <div class="cell">Monthly Average Spending</div>
                    <div class="cell">@string.Format("{0:0.00}", Model.MonthlyAverageSpending)</div>
                </div>

                <div class="row cells2">
                    <div class="cell">Total Spending</div>
                    <div class="cell">@string.Format("{0:0.00}", Model.TotalSpending)</div>
                </div>
            </div>
        </div>

        <div class="cell">
            <div>Most Expensive Purchases</div>
            <div class="grid">
                @foreach (var item in Model.MostExpensivePurchases)
                {
                    <div class="row cells2">
                        <div class="cell">@item.EntryName</div>
                        <div class="cell">@item.EntrySum</div>
                    </div>
                }
            </div>
        </div>
    </div> 
</div>

@foreach (var item in Model.SpendingsByMonth)
{
    <div class="month-val hidden">@item</div>
}

@foreach (var item in Model.SpendingsByCategory)
{
    <div class="category hidden">@item.Value.CategoryName</div>
    <div class="category-val hidden">@item.Value.Sum</div>
}

@foreach (var item in Model.SpendingsByDayOfWeek)
{
    <div class="day-of-week-val hidden">@item</div>
}

@foreach (var item in Model.SpendingsByDayOfYear)
{
    <div class="day-of-year-val hidden">@item</div>
}

<div class="grid">
    <div class="row cells2">
        <div class="cell">
            <canvas id="spendingsByMonthChart" height="300" width="350"></canvas>
        </div>
        <div class="cell">
            <canvas id="spendingsByCategoryChart" height="300" width="350"></canvas>
        </div>
    </div>
    <div class="row cells2">
        <div class="cell">
            <canvas id="spendingsByDayOfWeekChart" height="300" width="350"></canvas>
        </div>
        <div class="cell">
            <canvas id="spendingsByDayOfYearChart" height="300" width="350"></canvas>
        </div>
    </div>
</div>
<script src="~/Scripts/Chart.js"></script>
<script src="~/Scripts/stats.js"></script>